<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Anime Hub</title>
</head>
<body>
<div th:if="${user!=null}">
    <form th:action="@{/logout}" th:method="post">
        <input type="submit" value="Logout"/>
    </form>
    <br>
    <a th:href="@{/account}">My profile</a>
    <br>
    <a th:href="@{/auth_home}">All anime</a>
    <br>
</div>
<div th:if="${user==null}">
    <nav>
        <button id="loginButton">Login</button>
        <dialog id="loginFormDialog">
            <form th:action="@{/login}" method="POST">
                <label th:for="username">Введите email: </label>
                <input type="email" name="username"><br><br>
                <label th:for="password">Введите пароль: </label>
                <input type="password" name="password"/><br><br>
                <input type="submit" value="Войти"/>
            </form>
        </dialog>
        <a th:href="@{/registration}">Зарегистрироваться</a>
        <script>
            document.getElementById("loginButton").addEventListener("click", () => {
                document.getElementById("loginFormDialog").showModal();
            })
            document.getElementById("registrButton").addEventListener("click", () => {
                document.getElementById("registrFormDialog").showModal();
            })
        </script>
    </nav>
    <br>
    <a th:href="@{/home}">All anime</a>
    <br>
</div>
<p>All genres: </p>
<span th:each="genre: ${genreList}">
    <a th:href="@{genres/{genreName}(genreName=${genre.name})}">[[${genre.name}]]</a>
    <br>
</span>

</body>
</html>